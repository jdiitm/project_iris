[AUTO-TUNE] Detected Available RAM: 9830 MB
[AUTO-TUNE] Target Capacity: 536870 Connections
[AUTO-TUNE] Final Flags: +P 644244 +Q 644244
Running EUnit tests...
  All 58 tests passed.
erl -noshell -noinput +P 644244 +Q 644244 +K true +sbwt none -pa ebin -sname iris_edge1 -iris_edge port 8085 -eval "application:ensure_all_started(iris_edge)" &
Listener started on port 8085 (Handler: iris_edge_conn)
Listener started on port 8086 (Handler: iris_ws_lite)
User logged in: <<"alice">>
=ERROR REPORT==== 8-Jan-2026::01:29:12.477939 ===
Failed to register user <<"alice">>: {no_exists,presence}
Error retrieving offline msgs: {badrpc,
                                {'EXIT',
                                 {aborted,
                                  {no_exists,[user_meta,<<"alice">>]}}}}
User logged in: <<"bob">>
=ERROR REPORT==== 8-Jan-2026::01:29:12.479004 ===
Failed to register user <<"bob">>: {no_exists,presence}
Error retrieving offline msgs: {badrpc,
                                {'EXIT',
                                 {aborted,{no_exists,[user_meta,<<"bob">>]}}}}
=ERROR REPORT==== 8-Jan-2026::01:29:13.488796 ===
** State machine <0.304.0> terminating
** Last event = {info,{tcp,#Port<0.7>,<<5,0,3,98,111,98>>}}
** When server state  = {connected,
                            {data,#Port<0.7>,<<"alice">>,<<>>,0,#{},
                                #Ref<0.3931472605.3671326725.258873>}}
** Reason for termination = error:{case_clause,
                                   {badrpc,
                                    {'EXIT',
                                     {aborted,
                                      {no_exists,[presence,<<"bob">>]}}}}}
** Callback modules = [iris_edge_conn]
** Callback mode = [state_functions,state_enter]
** Stacktrace =
**  [{iris_session,fetch_and_cache,2,
                   [{file,"src/iris_session.erl"},{line,81}]},
     {iris_session,handle_packet,4,[{file,"src/iris_session.erl"},{line,66}]},
     {iris_edge_conn,process_buffer,2,
                     [{file,"src/iris_edge_conn.erl"},{line,122}]},
     {gen_statem,loop_state_callback,11,[{file,"gen_statem.erl"},{line,1395}]},
     {proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,241}]}]

=CRASH REPORT==== 8-Jan-2026::01:29:13.489624 ===
  crasher:
    initial call: iris_edge_conn:init/1
    pid: <0.304.0>
    registered_name: []
    exception error: no case clause matching 
                     {badrpc,
                         {'EXIT',{aborted,{no_exists,[presence,<<"bob">>]}}}}
      in function  iris_session:fetch_and_cache/2 (src/iris_session.erl, line 81)
      in call from iris_session:handle_packet/4 (src/iris_session.erl, line 66)
      in call from iris_edge_conn:process_buffer/2 (src/iris_edge_conn.erl, line 122)
      in call from gen_statem:loop_state_callback/11 (gen_statem.erl, line 1395)
    ancestors: [<0.103.0>]
    message_queue_len: 0
    messages: []
    links: [<0.103.0>,#Port<0.7>]
    dictionary: []
    trap_exit: false
    status: running
    heap_size: 6772
    stack_size: 28
    reductions: 10111
  neighbours:
    neighbour:
      pid: <0.195.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.102.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 35
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.198.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.102.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 35
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.200.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.102.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 35
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.202.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.102.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 35
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.201.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.102.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 35
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.199.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.102.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 35
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.197.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.102.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 35
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.193.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.102.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 35
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.189.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.102.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 35
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.181.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.102.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 35
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.165.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.102.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 36
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.149.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.102.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 35
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.133.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.102.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 35
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.102.0>
      registered_name: iris_edge_listener_8085
      initial call: iris_edge_listener:init/1
      current_function: {gen_server,loop,7}
      ancestors: [iris_edge_sup,<0.90.0>]
      message_queue_len: 0
      links: [<0.133.0>,<0.149.0>,<0.165.0>,<0.181.0>,<0.189.0>,<0.193.0>,
                  <0.197.0>,<0.199.0>,<0.201.0>,#Port<0.5>,<0.202.0>,
                  <0.200.0>,<0.198.0>,<0.195.0>,<0.196.0>,<0.194.0>,<0.191.0>,
                  <0.192.0>,<0.190.0>,<0.185.0>,<0.187.0>,<0.188.0>,<0.186.0>,
                  <0.183.0>,<0.184.0>,<0.182.0>,<0.173.0>,<0.177.0>,<0.179.0>,
                  <0.180.0>,<0.178.0>,<0.175.0>,<0.176.0>,<0.174.0>,<0.169.0>,
                  <0.171.0>,<0.172.0>,<0.170.0>,<0.167.0>,<0.168.0>,<0.166.0>,
                  <0.157.0>,<0.161.0>,<0.163.0>,<0.164.0>,<0.162.0>,<0.159.0>,
                  <0.160.0>,<0.158.0>,<0.153.0>,<0.155.0>,<0.156.0>,<0.154.0>,
                  <0.151.0>,<0.152.0>,<0.150.0>,<0.141.0>,<0.145.0>,<0.147.0>,
                  <0.148.0>,<0.146.0>,<0.143.0>,<0.144.0>,<0.142.0>,<0.137.0>,
                  <0.139.0>,<0.140.0>,<0.138.0>,<0.135.0>,<0.136.0>,<0.134.0>,
                  <0.117.0>,<0.125.0>,<0.129.0>,<0.131.0>,<0.132.0>,<0.130.0>,
                  <0.127.0>,<0.128.0>,<0.126.0>,<0.121.0>,<0.123.0>,<0.124.0>,
                  <0.122.0>,<0.119.0>,<0.120.0>,<0.118.0>,<0.109.0>,<0.113.0>,
                  <0.115.0>,<0.116.0>,<0.114.0>,<0.111.0>,<0.112.0>,<0.110.0>,
                  <0.105.0>,<0.107.0>,<0.108.0>,<0.106.0>,<0.103.0>,<0.104.0>,
                  <0.91.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 1161
      current_stacktrace: [{gen_server,loop,7,[{file,"gen_server.erl"},{line,1001}]},
                  {proc_lib,init_p_do_apply,3,
                            [{file,"proc_lib.erl"},{line,241}]}]
    neighbour:
      pid: <0.103.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.304.0>,<0.102.0>]
      trap_exit: false
      status: waiting
      heap_size: 376
      stack_size: 11
      reductions: 1003
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
=SUPERVISOR REPORT==== 8-Jan-2026::01:29:13.494191 ===
    supervisor: {local,iris_edge_sup}
    errorContext: child_terminated
    reason: {{case_clause,
                 {badrpc,{'EXIT',{aborted,{no_exists,[presence,<<"bob">>]}}}}},
             [{iris_session,fetch_and_cache,2,
                  [{file,"src/iris_session.erl"},{line,81}]},
              {iris_session,handle_packet,4,
                  [{file,"src/iris_session.erl"},{line,66}]},
              {iris_edge_conn,process_buffer,2,
                  [{file,"src/iris_edge_conn.erl"},{line,122}]},
              {gen_statem,loop_state_callback,11,
                  [{file,"gen_statem.erl"},{line,1395}]},
              {proc_lib,init_p_do_apply,3,
                  [{file,"proc_lib.erl"},{line,241}]}]}
    offender: [{pid,<0.102.0>},
               {id,iris_tcp_listener},
               {mfargs,{iris_edge_listener,start_link,[8085]}},
               {restart_type,permanent},
               {significant,false},
               {shutdown,5000},
               {child_type,worker}]

Listener started on port 8085 (Handler: iris_edge_conn)
=ERROR REPORT==== 8-Jan-2026::01:29:27.567099 ===
** State machine <0.413.0> terminating
** Last event = {info,{tcp,#Port<0.14>,
                           <<"GET / HTTP/1.1\r\nHost: localhost:8086\r\nUpgrade: websocket\r\nConnection: Upgrade\r\nSec-WebSocket-Key: 5AkLUuELDCUd4PnxwOA+/w==\r\nSec-WebSocket-Version: 13\r\nSec-WebSocket-Extensions: permessage-deflate; client_max_window_bits\r\nUser-Agent: Python/3.9 websockets/15.0.1\r\n\r\n">>}}
** When server state  = {handshake,
                            {data,#Port<0.14>,undefined,<<>>,undefined}}
** Reason for termination = error:{'module could not be loaded',crypto}
** Callback modules = [iris_ws_lite]
** Callback mode = [state_functions,state_enter]
** Stacktrace =
**  [{iris_ws_lite,handshake,3,[{file,"src/iris_ws_lite.erl"},{line,46}]},
     {gen_statem,loop_state_callback,11,[{file,"gen_statem.erl"},{line,1395}]},
     {proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,241}]}]

=CRASH REPORT==== 8-Jan-2026::01:29:27.567509 ===
  crasher:
    initial call: iris_ws_lite:init/1
    pid: <0.413.0>
    registered_name: []
    exception error: undefined function crypto:hash/2
      in function  iris_ws_lite:handshake/3 (src/iris_ws_lite.erl, line 46)
      in call from gen_statem:loop_state_callback/11 (gen_statem.erl, line 1395)
    ancestors: [<0.204.0>]
    message_queue_len: 0
    messages: []
    links: [<0.204.0>,#Port<0.14>]
    dictionary: []
    trap_exit: false
    status: running
    heap_size: 4185
    stack_size: 28
    reductions: 9650
  neighbours:
    neighbour:
      pid: <0.296.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.203.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 35
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.299.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.203.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 36
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.301.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.203.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 35
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.303.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.203.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 35
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.302.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.203.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 35
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.300.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.203.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 35
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.298.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.203.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 35
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.294.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.203.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 35
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.290.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.203.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 72
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.282.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.203.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 72
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.266.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.203.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 72
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.250.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.203.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 72
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.234.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.203.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 72
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
    neighbour:
      pid: <0.203.0>
      registered_name: iris_edge_listener_8086
      initial call: iris_edge_listener:init/1
      current_function: {gen_server,loop,7}
      ancestors: [iris_edge_sup,<0.90.0>]
      message_queue_len: 0
      links: [<0.234.0>,<0.250.0>,<0.266.0>,<0.282.0>,<0.290.0>,<0.294.0>,
                  <0.298.0>,<0.300.0>,<0.302.0>,#Port<0.6>,<0.303.0>,
                  <0.301.0>,<0.299.0>,<0.296.0>,<0.297.0>,<0.295.0>,<0.292.0>,
                  <0.293.0>,<0.291.0>,<0.286.0>,<0.288.0>,<0.289.0>,<0.287.0>,
                  <0.284.0>,<0.285.0>,<0.283.0>,<0.274.0>,<0.278.0>,<0.280.0>,
                  <0.281.0>,<0.279.0>,<0.276.0>,<0.277.0>,<0.275.0>,<0.270.0>,
                  <0.272.0>,<0.273.0>,<0.271.0>,<0.268.0>,<0.269.0>,<0.267.0>,
                  <0.258.0>,<0.262.0>,<0.264.0>,<0.265.0>,<0.263.0>,<0.260.0>,
                  <0.261.0>,<0.259.0>,<0.254.0>,<0.256.0>,<0.257.0>,<0.255.0>,
                  <0.252.0>,<0.253.0>,<0.251.0>,<0.242.0>,<0.246.0>,<0.248.0>,
                  <0.249.0>,<0.247.0>,<0.244.0>,<0.245.0>,<0.243.0>,<0.238.0>,
                  <0.240.0>,<0.241.0>,<0.239.0>,<0.236.0>,<0.237.0>,<0.235.0>,
                  <0.218.0>,<0.226.0>,<0.230.0>,<0.232.0>,<0.233.0>,<0.231.0>,
                  <0.228.0>,<0.229.0>,<0.227.0>,<0.222.0>,<0.224.0>,<0.225.0>,
                  <0.223.0>,<0.220.0>,<0.221.0>,<0.219.0>,<0.210.0>,<0.214.0>,
                  <0.216.0>,<0.217.0>,<0.215.0>,<0.212.0>,<0.213.0>,<0.211.0>,
                  <0.206.0>,<0.208.0>,<0.209.0>,<0.207.0>,<0.204.0>,<0.205.0>,
                  <0.91.0>]
      trap_exit: false
      status: waiting
      heap_size: 233
      stack_size: 11
      reductions: 1161
      current_stacktrace: [{gen_server,loop,7,[{file,"gen_server.erl"},{line,1001}]},
                  {proc_lib,init_p_do_apply,3,
                            [{file,"proc_lib.erl"},{line,241}]}]
    neighbour:
      pid: <0.204.0>
      registered_name: []
      initial_call: {erlang,apply,2}
      current_function: {prim_inet,accept0,3}
      ancestors: []
      message_queue_len: 0
      links: [<0.413.0>,<0.203.0>]
      trap_exit: false
      status: waiting
      heap_size: 376
      stack_size: 11
      reductions: 1007
      current_stacktrace: [{prim_inet,accept0,3,[]},
                  {inet_tcp,accept,1,[{file,"inet_tcp.erl"},{line,219}]},
                  {iris_edge_listener,acceptor,2,
                                      [{file,"src/iris_edge_listener.erl"},
                                       {line,32}]}]
=SUPERVISOR REPORT==== 8-Jan-2026::01:29:27.568711 ===
    supervisor: {local,iris_edge_sup}
    errorContext: child_terminated
    reason: {undef,[{crypto,hash,
                            [sha,
                             <<"5AkLUuELDCUd4PnxwOA+/w==258EAFA5-E914-47DA-95CA-C5AB0DC85B11">>],
                            []},
                    {iris_ws_lite,handshake,3,
                                  [{file,"src/iris_ws_lite.erl"},{line,46}]},
                    {gen_statem,loop_state_callback,11,
                                [{file,"gen_statem.erl"},{line,1395}]},
                    {proc_lib,init_p_do_apply,3,
                              [{file,"proc_lib.erl"},{line,241}]}]}
    offender: [{pid,<0.203.0>},
               {id,iris_ws_listener},
               {mfargs,{iris_edge_listener,start_link,[8086,iris_ws_lite]}},
               {restart_type,permanent},
               {significant,false},
               {shutdown,5000},
               {child_type,worker}]

Listener started on port 8086 (Handler: iris_ws_lite)
User logged in: <<"alice">>
=ERROR REPORT==== 8-Jan-2026::01:29:28.843946 ===
Failed to register user <<"alice">>: {no_exists,presence}
Error retrieving offline msgs: {badrpc,
                                {'EXIT',
                                 {aborted,
                                  {no_exists,[user_meta,<<"alice">>]}}}}
=ERROR REPORT==== 8-Jan-2026::01:29:28.846320 ===
RPC Error routing to <<"vip_user">>: {'EXIT',
                                      {aborted,
                                       {no_exists,[presence,<<"vip_user">>]}}}
=ERROR REPORT==== 8-Jan-2026::01:29:28.857480 ===
RPC Error routing to <<"vip_user">>: {'EXIT',
                                      {aborted,
                                       {no_exists,[presence,<<"vip_user">>]}}}
=ERROR REPORT==== 8-Jan-2026::01:29:28.868382 ===
RPC Error routing to <<"vip_user">>: {'EXIT',
                                      {aborted,
                                       {no_exists,[presence,<<"vip_user">>]}}}
=ERROR REPORT==== 8-Jan-2026::01:29:28.880554 ===
RPC Error routing to <<"vip_user">>: {'EXIT',
                                      {aborted,
                                       {no_exists,[presence,<<"vip_user">>]}}}
=ERROR REPORT==== 8-Jan-2026::01:29:28.893124 ===
RPC Error routing to <<"vip_user">>: {'EXIT',
                                      {aborted,
                                       {no_exists,[presence,<<"vip_user">>]}}}
=ERROR REPORT==== 8-Jan-2026::01:29:28.905595 ===
Router: Circuit open for 'iris_core@HMECMB-FVFG32XPQ05N'. Dropping message.
=ERROR REPORT==== 8-Jan-2026::01:29:28.918144 ===
Router: Circuit open for 'iris_core@HMECMB-FVFG32XPQ05N'. Dropping message.
=ERROR REPORT==== 8-Jan-2026::01:29:28.928819 ===
Router: Circuit open for 'iris_core@HMECMB-FVFG32XPQ05N'. Dropping message.
=ERROR REPORT==== 8-Jan-2026::01:29:28.941406 ===
Router: Circuit open for 'iris_core@HMECMB-FVFG32XPQ05N'. Dropping message.
=ERROR REPORT==== 8-Jan-2026::01:29:28.954005 ===
Router: Circuit open for 'iris_core@HMECMB-FVFG32XPQ05N'. Dropping message.
Client disconnected
User logged in: <<"vip_user">>
=ERROR REPORT==== 8-Jan-2026::01:29:28.967270 ===
Failed to register user <<"vip_user">>: {no_exists,presence}
Error retrieving offline msgs: {badrpc,
                                {'EXIT',
                                 {aborted,
                                  {no_exists,[user_meta,<<"vip_user">>]}}}}
Client disconnected
User logged in: <<"bench_sender">>
=ERROR REPORT==== 8-Jan-2026::01:29:47.542561 ===
Failed to register user <<"bench_sender">>: {no_exists,presence}
Error retrieving offline msgs: {badrpc,
                                {'EXIT',
                                 {aborted,
                                  {no_exists,
                                   [user_meta,<<"bench_sender">>]}}}}
User logged in: <<"bench_receiver">>
=ERROR REPORT==== 8-Jan-2026::01:29:47.543685 ===
Failed to register user <<"bench_receiver">>: {no_exists,presence}
Error retrieving offline msgs: {badrpc,
                                {'EXIT',
                                 {aborted,
                                  {no_exists,
                                   [user_meta,<<"bench_receiver">>]}}}}
Client disconnected
Client disconnected
